**推荐系统 思路文档**
==================

#### 召回

##### 评分与特征采集
显示评分和隐式评分

##### user-cf
距离最近的userA用户like a，B用户也like a，B用户还like b，那么认定A用户也对b感兴趣。选择20～50个

* 杰卡德（Jaccard）相似系数
* 余弦相似度
* 皮尔逊相关系数

* 召回:获取A用户所有的评价用品，找到全部的B用户
* 粗排:皮尔逊相似度，找到top-k个最相似的用户。

* 算法评估:召回率,覆盖率,精确率,新颖度

适用于用户少物品多。

##### item-cf
物品可以分为n个维度，物品A和物品B的余弦值越接近1则代表越相似。

* 适用于多物品少。
* 商品相似度比用户相似度更稳定。

##### swing
Swing 通过利用 User-Item-User 路径中所包含的信息，考虑 User-Item 二部图中的鲁棒内部子结构计算相似性
Surprise算法
首先在行为相关性中引入连续时间衰减因子，然后引入基于交互数据的聚类方法解决数据稀疏的问题，旨在帮助用户找到互补商品。互补相关性主要从三个层面考虑，类别层面，商品层面和聚类层面。

需要使用spark离线计算

##### MF
稀疏矩阵问题
冷启动问题

PQ -> Pk * kQ
通过交互生成用户向量和物品向量


##### 基于内容

* 1.关键词重叠
* 2.tf-idf
  * 文本表示为向量（计算量大，要放在大数据）
  * 去停用词
  * 使用词性，词干还原
  * 截断
* 3.基于知识
  * 知识图谱实体
  * 知识图谱关系
  * 知识图谱规则集（例:用户的经济实力+商品价格联合查询）
* 4.用户发布和关注内容

* 混合推荐

* 面向推荐的社交网络挖掘
* 1.用户好友
* 2.用户关注者

##### 相关思考以及问题草稿


* 推荐系统的item特征工程怎么做?我看书书上只说做成n维向量，然后用余弦计算相似度，但是我没看到怎么做成n维向量。
* 我的现在的item就是post帖子，然后我是有知识工程的，就是知识图谱，我
* 也用ac-tree提取了帖子的关键词，现在想要知道怎么构建物品向量?
* 还是说根本不用构建,只是item CF需要,如果不用item CF算法就不需要?那不用CF应该怎么做推荐呢?
* 我听说目前主流的是DeepFM + LLM做特征工程.我目前没有LLM,只有:
* Bert模型,知识图谱,u-i矩阵(也是存放在知识图谱中)

* Neo4j图嵌入 + Bert模型文本嵌入


* 问题:
* 如何构建特征工程额?
  * Neo4j图嵌入是否可行?
  * Bert模型是否可行?
* 推荐流程怎么执行?
  * 召回->粗拍->精排
* 推荐的离线计算怎么执行?
  * spark?hive?
* 获取特征服务怎么设计?
  * 离线数据?
  * 进线数据?
  * 在线数据?


帮我构建一个完整的推荐系统架构（文章推荐），
特征工程和推荐计算层要有：离线计算，近线计算，在线计算。
推荐要有：召回，粗排，精排。
你可以用的：
知识图谱：neo4j（我已经构建好了知识关系，以及user-实体；实体-item；user-item的关系）
Redis：存储30天历史记录，递减的作为用户临时特征和30日热门帖子。
AcTree：提取item的关键词。
Bert模型（有但是不知道用来做什么，也可以不用。）

经典召回模型
基于协同过滤的召回
UserCF
ItemCF
Swing
矩阵分解

基于向量的召回
FM召回
item2vec召回系列
word2vec原理
item2vec召回
YoutubeDNN召回

经典排序模型
GBDT+LR
特征交叉
FM
DeepFM